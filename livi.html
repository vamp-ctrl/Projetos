<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filmes</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/header.css">
    <link rel="stylesheet" href="./css/footer.css">
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <header>
        <nav>
            <ul class="ulMenu">
                <li><a href="./scooby_doo.html">Scooby-doo</a></li>
                <li><a href="./personagens.html">Personagens</a></li>
                <li><a href="./filmes.html">Filmes</a></li>
            </ul>

    </header>
    <main>
        <h1>Filmes especiais de TV</h1>
        <table>
            <thead>
                <th>Filme</th>
                <th>Data</th>

            </thead>
            <table>
  <thead>
    <tr>
      <th>Título</th>
      <th>Ano</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Scooby-Doo em Hollywood</td>
      <td>1979</td>
    </tr>
    <tr>
      <td>Scooby-Doo e os Irmãos Boo</td>
      <td>1987</td>
    </tr>
    <tr>
      <td>Scooby-Doo e a Escola Assombrada</td>
      <td>1988</td>
    </tr>
    <tr>
      <td>Scooby-Doo e o Lobisomem</td>
      <td>1989</td>
    </tr>
    <tr>
      <td>Scooby-Doo! em Uma Noite das Arábias</td>
      <td>1994</td>
    </tr>
    <tr>
      <td>Bravo Dooby-Doo</td>
      <td>1997</td>
    </tr>
    <tr>
      <td>Scooby-Doo: Atrás das Cenas</td>
      <td>1998</td>
    </tr>
    <tr>
      <td>O Projeto Scooby-Doo</td>
      <td>1999</td>
    </tr>
    <tr>
      <td>Scooby-Doo e Coragem o Cão Covarde (Courage the Cowardly Dog)</td>
      <td>2000</td>
    </tr>
    <tr>
      <td>Noite dos Doo Vivos</td>
      <td>2001</td>
    </tr>
    <tr>
      <td>A Prisão de Salsicha (Shaggy Busted)</td>
      <td>2002</td>
    </tr>
    <tr>
      <td>Lego Scooby-Doo! Terror do Tempo do Cavaleiro</td>
      <td>2015</td>
    </tr>
    <tr>
      <td>Scoobynatural</td>
      <td>2018</td>
    </tr>
    <tr>
      <td>Cartoon Feud</td>
      <td>2019</td>
    </tr>
    <tr>
      <td>Scooby-Doo Where Are You Now</td>
      <td>2021</td>
    </tr>
  </tbody>
</table>


    </main>
    <footer>

    </footer>
    
</body>
</html> -->


<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Teste Filtro por Data</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #1a1a2e;
    color: #d1c4e9;
    padding: 20px;
  }
  label {
    display: block;
    margin-bottom: 10px;
  }
  input[type="date"] {
    padding: 6px;
    border-radius: 5px;
    border: none;
    font-size: 1rem;
  }
  .relatorio {
    background-color: #2a003f;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 8px;
    white-space: pre-wrap;
    font-family: monospace;
  }
</style>
</head>
<body>

<h2>Relatórios de Fechamento</h2>

<label for="filtroData">
  Filtrar por data:
  <input type="date" id="filtroData" />
</label>

<div id="relatorios"></div>

<script>
  // Dados simulados (normalmente viriam do localStorage)
  const relatorios = [
    { dataHora: "03/07/2025 12:30:00", abertura: 100, vendas: 500, comp1: 50, comp2: 50, ifood: 100, aipede: 200, dinheiro: 300, pix: 100, cartao: 100, totalFinal: 700, lucro: 600 },
    { dataHora: "04/07/2025 13:00:00", abertura: 100, vendas: 600, comp1: 60, comp2: 40, ifood: 150, aipede: 250, dinheiro: 350, pix: 150, cartao: 150, totalFinal: 850, lucro: 750 },
    { dataHora: "05/07/2025 14:00:00", abertura: 100, vendas: 700, comp1: 70, comp2: 60, ifood: 200, aipede: 300, dinheiro: 400, pix: 200, cartao: 200, totalFinal: 950, lucro: 850 }
  ];

  const container = document.getElementById('relatorios');
  const filtroDataInput = document.getElementById('filtroData');

  filtroDataInput.addEventListener('change', carregarRelatoriosFiltrados);

  function carregarRelatoriosFiltrados() {
    const filtroData = filtroDataInput.value; // yyyy-mm-dd
    container.innerHTML = '';

    let relatoriosFiltrados = relatorios;

    if (filtroData) {
      relatoriosFiltrados = relatorios.filter(item => {
        const [dataParte] = item.dataHora.split(' ');
        const [dia, mes, ano] = dataParte.split('/');
        const dataFormatada = `${ano}-${mes.padStart(2, '0')}-${dia.padStart(2, '0')}`;
        // Teste no console para debug
        console.log('Data do relatório:', dataFormatada, '| Filtro:', filtroData);
        return dataFormatada === filtroData;
      });
    }

    if (relatoriosFiltrados.length === 0) {
      container.textContent = 'Nenhum fechamento registrado para esta data.';
      return;
    }

    relatoriosFiltrados.forEach((item, index) => {
      const div = document.createElement('div');
      div.className = 'relatorio';
      div.textContent = 
`Fechamento ${index + 1}
----------------------------
Data/Hora:       ${item.dataHora}
Abertura:        R$ ${item.abertura.toFixed(2)}
Vendas:          R$ ${item.vendas.toFixed(2)}
Comp. 1:         R$ ${item.comp1.toFixed(2)}
Comp. 2:         R$ ${item.comp2.toFixed(2)}
iFood:           R$ ${item.ifood.toFixed(2)}
AiPede:          R$ ${item.aipede.toFixed(2)}

Recebido:
  Dinheiro:      R$ ${item.dinheiro.toFixed(2)}
  Pix:           R$ ${item.pix.toFixed(2)}
  Cartão:        R$ ${item.cartao.toFixed(2)}

Total Final:     R$ ${item.totalFinal.toFixed(2)}
Lucro:           R$ ${item.lucro.toFixed(2)}
----------------------------`;
      container.appendChild(div);
    });
  }

  // Inicializa mostrando todos
  carregarRelatoriosFiltrados();
</script>

</body>
</html>
